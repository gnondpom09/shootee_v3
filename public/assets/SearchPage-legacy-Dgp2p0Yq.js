System.register(["./useMarkers-legacy-D0iLvR_d.js","./index-legacy-B44unjLR.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js","./marker.service-legacy-5mHVUuft.js"],(function(e,t){"use strict";var l,a,o,n,s,i,u,c,r,d,p,v,m,y;return{setters:[e=>{l=e.A,a=e.u},e=>{o=e.d,n=e.r,s=e.y,i=e.o,u=e.h,c=e.A,r=e.c,d=e.w,p=e.b,v=e.e,m=e.f},e=>{y=e._},null],execute:function(){var t=document.createElement("style");t.textContent="#map[data-v-31516740]{height:100%;width:100%;position:absolute;left:0;right:0;top:0;bottom:0}.mapboxgl-ctrl-top-right[data-v-31516740]{right:0;bottom:55px!important}#autocomplete-container[data-v-31516740]{position:absolute;top:10px;left:10px}#app[data-v-31516740]{height:100%}.info-content[data-v-31516740]{background-color:#fff;width:300px;height:100px}\n",document.head.appendChild(t);const g={id:"app"},h=[c('<div id="autocomplete-container" data-v-31516740><svg class="search-icon" viewBox="0 0 16 16" data-v-31516740><path d="M3.617 7.083a4.338 4.338 0 1 1 8.676 0 4.338 4.338 0 0 1-8.676 0m4.338-5.838a5.838 5.838 0 1 0 2.162 11.262l2.278 2.279a1 1 0 0 0 1.415-1.414l-1.95-1.95A5.838 5.838 0 0 0 7.955 1.245" fill-rule="evenodd" clip-rule="evenodd" data-v-31516740></path></svg><input type="text" id="autocomplete-input" placeholder="Search Localities..." autocomplete="off" data-v-31516740><button aria-label="Clear" class="clear-searchButton" type="button" data-v-31516740><svg class="clear-icon" viewBox="0 0 24 24" data-v-31516740><path d="M7.074 5.754a.933.933 0 1 0-1.32 1.317L10.693 12l-4.937 4.929a.931.931 0 1 0 1.319 1.317l4.938-4.93 4.937 4.93a.933.933 0 0 0 1.581-.662.93.93 0 0 0-.262-.655L13.331 12l4.937-4.929a.93.93 0 0 0-.663-1.578.93.93 0 0 0-.656.261l-4.938 4.93z" data-v-31516740></path></svg></button><ul id="suggestions-list" data-v-31516740></ul></div><div id="map" data-v-31516740></div>',2)],f=y(o({__name:"ExploreContainer",setup(e){let t,o,c,r,d,p;const v=n(null),m=n(null),y=n(null),{setMarkersOnMap:f}=a();function b(){if(v.value&&m.value&&v.value){d.input=v.value.value;const e={key:l,input:d.input,types:"locality|postal_code|address",components:"country:fr|country:es"};d.input?p(e).then((e=>{return l=e,void(v.value&&m.value&&y.value&&(m.value.innerHTML="",l.localities.length>0&&d.input?(l.localities.forEach((e=>{var l;const a=document.createElement("li");a.onmouseover=()=>{a.style.backgroundColor="#f2f2f2"},a.onmouseout=()=>{a.style.backgroundColor="#FFFFFF"},a.style.padding="12px",a.style.transition="background-color 0.3s ease",a.style.cursor="pointer",a.textContent=null!==(l=e.description)&&void 0!==l?l:"",a.addEventListener("click",(()=>{var l,a;v.value&&m.value&&(v.value.value=null!==(l=e.description)&&void 0!==l?l:"",m.value.style.display="none",a=e.public_id,r.getDetails({publicId:a}).then((e=>function(e){if(o&&(o.setMap(null),c.close()),null!=e&&e.geometry){o=new woosmap.map.Marker({position:e.geometry.location,icon:{url:"https://images.woosmap.com/marker.png",scaledSize:{height:50,width:32}}}),o.setMap(t),c.setContent(`<span id="${e.public_id}">${e.formatted_address}</span>`),c.open(t,o),t.flyTo({center:e.geometry.location,zoom:14});const l=document.getElementById(e.public_id);l&&(l.style.color="blue")}}(e.result))).catch((e=>console.error("Error getting locality details:",e))))})),m.value&&m.value.appendChild(a)})),m.value.style.display="block",y.value.style.display="block"):m.value.style.display="none"));var l})).catch((e=>console.error("Error autocomplete localities:",e))):m.value&&y.value&&(m.value.style.display="none",y.value.style.display="none")}}return s((()=>{const e=document.createElement("script");e.src=`https://sdk.woosmap.com/map/map.js?key=${l}&callback=initMap`,e.async=!0,document.body.appendChild(e),v.value=document.getElementById("autocomplete-input"),m.value=document.getElementById("suggestions-list"),y.value=document.getElementsByClassName("clear-searchButton")[0],e.addEventListener("load",(()=>{t=new woosmap.map.Map(document.getElementById("map"),{zoom:5,disableDefaultUI:!1,styles:[{featureType:"point_of_interest",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"point_of_interest.business.shop",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{lightness:-15}]}]}),f(t),c=new woosmap.map.InfoWindow({}),r=new window.woosmap.map.LocalitiesService,d={input:"",types:["locality","address","postal_code"]},p=function(e,t){let l=null,a=null,o=null;return function(...n){return new Promise(((s,i)=>{null!==l&&clearTimeout(l),a=s,o=i,l=setTimeout((()=>{e(...n).then((e=>{a===s&&o===i&&s(e)})).catch((e=>{a===s&&o===i&&i(e)}))}),t)}))}}(r.autocomplete,0)})),v.value&&m.value&&(v.value.addEventListener("input",b),v.value.addEventListener("keydown",(e=>{if("Enter"===e.key&&m.value){const e=m.value.querySelector("li");e&&e.click()}})),y.value&&v.value&&m.value&&y.value.addEventListener("click",(()=>{v.value&&m.value&&y.value&&(v.value.value="",m.value.style.display="none",y.value.style.display="none",o&&(o.setMap(null),c.close()),v.value.focus())})))})),document.addEventListener("click",(e=>{!e.target.closest("#autocomplete-container")&&m.value&&(m.value.style.display="none")})),(e,t)=>(i(),u("div",g,h))}}),[["__scopeId","data-v-31516740"]]);e("default",o({__name:"SearchPage",setup:e=>(e,t)=>{const l=p("ion-title"),a=p("ion-toolbar"),o=p("ion-header"),n=p("ion-content"),s=p("ion-page");return i(),r(s,null,{default:d((()=>[v(o,null,{default:d((()=>[v(a,null,{default:d((()=>[v(l,{class:"oswald-title"},{default:d((()=>[m("SHOOTEE")])),_:1})])),_:1})])),_:1}),v(n,null,{default:d((()=>[v(f)])),_:1})])),_:1})}}))}}}));
