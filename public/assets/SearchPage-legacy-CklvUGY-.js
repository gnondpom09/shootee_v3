System.register(["./index-legacy-_zzK64wa.js","./useMarkers-legacy-CCmC7Xug.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js","./marker.service-legacy-BqGkO5RZ.js"],(function(e,t){"use strict";var l,a,o,n,u,d,i,s,c,r,p,v,m,y,f;return{setters:[e=>{l=e.d,a=e.r,o=e.y,n=e.M,u=e.A,d=e.o,i=e.h,s=e.B,c=e.c,r=e.w,p=e.b,v=e.e,m=e.f},e=>{y=e.u},e=>{f=e._},null],execute:function(){var t=document.createElement("style");t.textContent="#map[data-v-30dfd48c]{height:100%;width:100%;position:absolute;left:0;right:0;top:0;bottom:0}.mapboxgl-ctrl-top-right[data-v-30dfd48c]{right:0;bottom:55px!important}#autocomplete-container[data-v-30dfd48c]{position:absolute;top:10px;left:10px}#app[data-v-30dfd48c]{height:100%}.info-content[data-v-30dfd48c]{background-color:#fff;width:300px;height:100px}\n",document.head.appendChild(t);const g={id:"app"},h=[s('<div id="autocomplete-container" data-v-30dfd48c><svg class="search-icon" viewBox="0 0 16 16" data-v-30dfd48c><path d="M3.617 7.083a4.338 4.338 0 1 1 8.676 0 4.338 4.338 0 0 1-8.676 0m4.338-5.838a5.838 5.838 0 1 0 2.162 11.262l2.278 2.279a1 1 0 0 0 1.415-1.414l-1.95-1.95A5.838 5.838 0 0 0 7.955 1.245" fill-rule="evenodd" clip-rule="evenodd" data-v-30dfd48c></path></svg><input type="text" id="autocomplete-input" placeholder="Search Localities..." autocomplete="off" data-v-30dfd48c><button aria-label="Clear" class="clear-searchButton" type="button" data-v-30dfd48c><svg class="clear-icon" viewBox="0 0 24 24" data-v-30dfd48c><path d="M7.074 5.754a.933.933 0 1 0-1.32 1.317L10.693 12l-4.937 4.929a.931.931 0 1 0 1.319 1.317l4.938-4.93 4.937 4.93a.933.933 0 0 0 1.581-.662.93.93 0 0 0-.262-.655L13.331 12l4.937-4.929a.93.93 0 0 0-.663-1.578.93.93 0 0 0-.656.261l-4.938 4.93z" data-v-30dfd48c></path></svg></button><ul id="suggestions-list" data-v-30dfd48c></ul></div><div id="map" data-v-30dfd48c></div>',2)],b=f(l({__name:"ExploreContainer",setup(e){let t,l,s,c,r,p;const v=a(null),m=a(null),f=a(null),{setMarkersOnMap:b}=y();function w(){if(v.value&&m.value&&v.value){r.input=v.value.value;const e={key:u,input:r.input,types:"locality|postal_code|address",components:"country:fr|country:es"};r.input?p(e).then((e=>{return a=e,void(v.value&&m.value&&f.value&&(m.value.innerHTML="",a.localities.length>0&&r.input?(a.localities.forEach((e=>{var a;const o=document.createElement("li");o.onmouseover=()=>{o.style.backgroundColor="#f2f2f2"},o.onmouseout=()=>{o.style.backgroundColor="#FFFFFF"},o.style.padding="12px",o.style.transition="background-color 0.3s ease",o.style.cursor="pointer",o.textContent=null!==(a=e.description)&&void 0!==a?a:"",o.addEventListener("click",(()=>{var a,o;v.value&&m.value&&(v.value.value=null!==(a=e.description)&&void 0!==a?a:"",m.value.style.display="none",o=e.public_id,c.getDetails({publicId:o}).then((e=>function(e){if(l&&(l.setMap(null),s.close()),null!=e&&e.geometry){l=new woosmap.map.Marker({position:e.geometry.location,icon:{url:"https://images.woosmap.com/marker.png",scaledSize:{height:50,width:32}}}),l.setMap(t),s.setContent(`<span id="${e.public_id}">${e.formatted_address}</span>`),s.open(t,l),t.flyTo({center:e.geometry.location,zoom:14});const a=document.getElementById(e.public_id);a&&(a.style.color="blue")}}(e.result))).catch((e=>console.error("Error getting locality details:",e))))})),m.value&&m.value.appendChild(o)})),m.value.style.display="block",f.value.style.display="block"):m.value.style.display="none"));var a})).catch((e=>console.error("Error autocomplete localities:",e))):m.value&&f.value&&(m.value.style.display="none",f.value.style.display="none")}}return o((()=>{v.value=document.getElementById("autocomplete-input"),m.value=document.getElementById("suggestions-list"),f.value=document.getElementsByClassName("clear-searchButton")[0],t=new woosmap.map.Map(document.getElementById("map"),{zoom:5,disableDefaultUI:!1,styles:n}),b(t),s=new woosmap.map.InfoWindow({}),c=new window.woosmap.map.LocalitiesService,r={input:"",types:["locality","address","postal_code"]},p=function(e,t){let l=null,a=null,o=null;return function(...n){return new Promise(((u,d)=>{null!==l&&clearTimeout(l),a=u,o=d,l=setTimeout((()=>{e(...n).then((e=>{a===u&&o===d&&u(e)})).catch((e=>{a===u&&o===d&&d(e)}))}),t)}))}}(c.autocomplete,0),v.value&&m.value&&(v.value.addEventListener("input",w),v.value.addEventListener("keydown",(e=>{if("Enter"===e.key&&m.value){const e=m.value.querySelector("li");e&&e.click()}})),f.value&&v.value&&m.value&&f.value.addEventListener("click",(()=>{v.value&&m.value&&f.value&&(v.value.value="",m.value.style.display="none",f.value.style.display="none",l&&(l.setMap(null),s.close()),v.value.focus())})))})),document.addEventListener("click",(e=>{!e.target.closest("#autocomplete-container")&&m.value&&(m.value.style.display="none")})),(e,t)=>(d(),i("div",g,h))}}),[["__scopeId","data-v-30dfd48c"]]);e("default",l({__name:"SearchPage",setup:e=>(e,t)=>{const l=p("ion-title"),a=p("ion-toolbar"),o=p("ion-header"),n=p("ion-content"),u=p("ion-page");return d(),c(u,null,{default:r((()=>[v(o,null,{default:r((()=>[v(a,null,{default:r((()=>[v(l,{class:"oswald-title"},{default:r((()=>[m("SHOOTEE")])),_:1})])),_:1})])),_:1}),v(n,null,{default:r((()=>[v(b)])),_:1})])),_:1})}}))}}}));
