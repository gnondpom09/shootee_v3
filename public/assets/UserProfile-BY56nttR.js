import{a as R,g as $,b as g,r as j}from"./user.service-DPdtfIui.js";import{d as J,a as K,k as Q,c,w as t,b as e,o as l,e as o,f as s,l as a,g as _,i as k,t as x,h as W,E as X,F as Y,I as Z}from"./index-DSsP63NG.js";import{u as tt}from"./usePhotoGallery-Bux7wwCs.js";import{_ as ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";const et={class:"profile"},nt=["src"],at=["src"],it=J({__name:"UserProfile",setup(lt){var v;const{takePhotoAndSave:y,photoUrl:m,getPhotoFromLibrary:C}=tt(),f=K(),U=Q(),A=R(),n=$((v=U.value)==null?void 0:v.uid),p={header:"Modifier mon avatar",buttons:[{text:"Prendre une photo",handler:()=>{w()}},{text:"Ouvrir la bibliothÃ¨que",handler:()=>{B()}},{text:"Cancel",role:"cancel",data:{action:"cancel"}}]};function P(){f.push("/account")}function S(){f.push("/settings")}async function w(){var i;n.value&&(await y(),n.value.avatar=(i=m.value)!=null?i:n.value.avatar,g(n.value.id,n.value.avatar))}async function B(){var i;n.value&&(await C(),n.value.avatar=(i=m.value)!=null?i:n.value.avatar,g(n.value.id,n.value.avatar))}return(i,st)=>{const F=e("ion-title"),E=e("ion-toolbar"),I=e("ion-header"),h=e("ion-avatar"),N=e("ion-button"),b=e("ion-label"),T=e("ion-list-header"),V=e("ion-item"),L=e("ion-item-option"),O=e("ion-item-options"),M=e("ion-item-sliding"),q=e("ion-list"),u=e("ion-icon"),d=e("ion-fab-button"),z=e("ion-fab-list"),D=e("ion-fab"),G=e("ion-content"),H=e("ion-page");return l(),c(H,null,{default:t(()=>[o(I,null,{default:t(()=>[o(E,null,{default:t(()=>[o(F,{class:"oswald-title"},{default:t(()=>[s("SHOOTEE")]),_:1})]),_:1})]),_:1}),a(n)?(l(),c(G,{key:0},{default:t(()=>[_("div",et,[a(n).avatar?(l(),c(h,{key:0},{default:t(()=>[_("img",{src:a(n).avatar},null,8,nt)]),_:1})):k("",!0),o(N,{id:"open-action-sheet",expand:"block",fill:"clear"},{default:t(()=>[s(" Modifier l'avatar ")]),_:1}),_("h3",null,x(a(n).pseudo),1)]),o(q,null,{default:t(()=>[o(T,null,{default:t(()=>[o(b,null,{default:t(()=>[s("Users")]),_:1})]),_:1}),(l(!0),W(Y,null,X(a(A),r=>(l(),c(M,{key:r.id},{default:t(()=>[o(V,null,{default:t(()=>[o(h,null,{default:t(()=>[_("img",{src:r.avatar},null,8,at)]),_:2},1024),o(b,null,{default:t(()=>[s(x(r.email),1)]),_:2},1024)]),_:2},1024),o(O,{side:"end"},{default:t(()=>[o(L,{color:"danger",onClick:rt=>a(j)(r.id)},{default:t(()=>[s("delete")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),o(D,{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:t(()=>[o(d,null,{default:t(()=>[o(u,{icon:"chevron-up"})]),_:1}),o(z,{side:"top"},{default:t(()=>[o(d,{onClick:S},{default:t(()=>[o(u,{name:"settings-outline"})]),_:1}),o(d,{onClick:P},{default:t(()=>[o(u,{name:"person-circle-outline"})]),_:1})]),_:1})]),_:1}),o(a(Z),{trigger:"open-action-sheet",header:p.header,buttons:p.buttons},null,8,["header","buttons"])]),_:1})):k("",!0)]),_:1})}}}),mt=ot(it,[["__scopeId","data-v-e9f44835"]]);export{mt as default};
